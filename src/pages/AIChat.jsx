import Page from '../components/Page.jsx'
import { useState } from 'react'
import { makeAdvice } from '../mock.js'
export default function AIChat(){ const [q,setQ]=useState(''); const [messages,setMessages]=useState([{from:'ai',text:'Hola, soy VetZen AI. Pregúntame sobre tus mascotas o dispositivos 🧠🐾'}]); function onSend(e){ e.preventDefault(); if(!q.trim()) return; const t=q.toLowerCase(); let ans='Puedo ayudarte con: pH de acuarios, humedad/temperatura de terrarios, rutinas y cuidados por especie.'; if(t.includes('ph')) ans=makeAdvice('ph',6.2,'Pez'); else if(t.includes('humedad')||t.includes('terrario')) ans=makeAdvice('hum',40,'Reptil'); else if(t.includes('temperatura')) ans='Reptiles diurnos: 28–32 °C zona caliente. Tropicales: humedad 60–80%.'; else if(t.includes('conejo')) ans='Los conejos necesitan heno ilimitado, agua fresca y enriquecimiento diario.'; setMessages(prev=>[...prev,{from:'user',text:q.trim()},{from:'ai',text:ans}]); setQ('') } return(<Page title='VetZen AI (demo)'><div className='bg-white rounded-2xl shadow-soft p-0 border border-emerald-100 overflow-hidden'><div className='h-80 overflow-y-auto p-4 space-y-2'>{messages.map((m,i)=>(<div key={i} className={m.from==='ai'?'text-sm text-emerald-800':'text-sm text-gray-700 text-right'}><span className={m.from==='ai'?'inline-block bg-emerald-50 border border-emerald-100 rounded-xl px-3 py-2':'inline-block bg-cream-100 border border-emerald-100 rounded-xl px-3 py-2'}>{m.text}</span></div>))}</div><form onSubmit={onSend} className='p-3 border-t border-emerald-100 flex gap-2'><input value={q} onChange={e=>setQ(e.target.value)} className='flex-1 px-3 py-2 rounded-xl border border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-600' placeholder='Ej: ¿Qué pH necesita un acuario tropical?'/><button className='px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700'>Enviar</button></form></div></Page>)}
